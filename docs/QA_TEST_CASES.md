# civ-game 测试用例手册

## 测试用例格式

```
### TC-{模块}-{序号}: {测试名称}
- **关联**: TASK-XXX
- **前置**: {前置条件}
- **步骤**:
  1. {步骤1}
  2. {步骤2}
- **预期**: {预期结果}
- **状态**: 🟢/🟡/🔴/⚪
```

## Phase 0 测试用例

### TC-DIPLOMACY-001: 附庸独立倾向每日变化
- **关联**: TASK-DEV-001
- **前置**: 拥有至少一个附庸国
- **步骤**:
  1. 进入附庸管理面板
  2. 观察“独立倾向变化原因”和“每日”数值
  3. 连续推进数天
- **预期**: 独立倾向按每日净变化持续增减，UI显示与实际一致
- **状态**: ⚪

### TC-DIPLOMACY-002: 控制手段持久化
- **关联**: TASK-DEV-001
- **前置**: 拥有至少一个附庸国
- **步骤**:
  1. 在政策调整中开启/关闭任一控制手段
  2. 切换到其他Tab再切回
- **预期**: 控制手段状态保持不变并已生效
- **状态**: ⚪

### TC-DIPLOMACY-003: 独立战争触发
- **关联**: TASK-DEV-001
- **前置**: 目标附庸独立倾向接近100%
- **步骤**:
  1. 推进数天直至独立倾向达到上限
  2. 观察日志与国家状态
- **预期**: 附庸触发独立战争并退出宗主附庸关系
- **状态**: ⚪

### TC-DIPLOMACY-004: 附庸阶层满意度更新
- **关联**: TASK-DEV-001
- **前置**: 拥有至少一个附庸国
- **步骤**:
  1. 观察附庸阶层满意度
  2. 调整政策并推进数天
- **预期**: 阶层满意度数值发生变化并可见
- **状态**: ⚪

---

## Phase 1 测试用例

### TC-MILITARY-001: 战线地图生成
- **关联**: TASK-DEV-FrontlineMap
- **前置**: 与任一AI国家进入战争状态（外交界面宣战或触发敌国宣战）
- **步骤**:
  1. 进入军事标签页 → 切换到“战线”面板
  2. 观察“战线地图”区域是否出现地图网格
  3. 若存在多场战争，切换战争选择器并观察地图是否更新
- **预期**: 战线地图在首个游戏日内生成并展示地形/建筑网格；切换战争时可正确切换地图
- **状态**: ⚪

### TC-MILITARY-002: 六边形战线地图渲染
- **关联**: TASK-DEV-FrontlineHex
- **前置**: 有进行中的战争且战线地图已生成
- **步骤**:
  1. 进入军事标签页 → 战线面板
  2. 观察地图网格形状
  3. 滚动地图，确认排列一致且不重叠
- **预期**: 地图网格为尖顶六边形排列，格子紧密对齐且无重叠/缝隙
- **状态**: ⚪

### TC-MILITARY-003: 兵团地图指令（移动/攻击/围攻）
- **关联**: TASK-DEV-FrontlineCommands
- **前置**: 至少创建一个己方兵团，战线地图已生成
- **步骤**:
  1. 点击己方兵团所在格子进行选中
  2. 点击空格 → 观察兵团是否开始移动
  3. 点击敌方兵团格子 → 观察是否发起攻击并触发战斗日志
  4. 点击敌方建筑格子 → 观察是否开始围攻并出现建筑受损日志
- **预期**: 兵团可按点击自动执行移动/攻击/围攻；战斗与建筑损坏在每日结算中产生
- **状态**: ⚪

### TC-MILITARY-004: 创建兵团可见反馈
- **关联**: TASK-DEV-FrontlineCorps
- **前置**: 有进行中的战争且拥有可分配部队
- **步骤**:
  1. 进入军事 → 战线 → 兵团管理
  2. 点击「创建兵团」，分配部队并确认
  3. 观察创建提示与兵团详情/列表
- **预期**: 创建后出现成功提示，兵团可在列表中查看或被选中显示详情
- **状态**: ⚪
